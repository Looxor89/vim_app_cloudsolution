<mvc:View displayBlock="true" controllerName="touchlessui.controller.Master" height="100%" xmlns="sap.m" xmlns:f="sap.f" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns:fb="sap.ui.comp.filterbar" class="sapUiSizeCompact" 
xmlns:ui="sap.ui.unified">
	<f:DynamicPage id="dynamicPageId" toggleHeaderOnTitleClick="true" headerExpanded="true">
		<!-- DynamicPage Title -->
		<f:title>
			<f:DynamicPageTitle>
				<f:heading>
					<Title text="Extracted Documents" textAlign="Center" />
				</f:heading>
				<f:actions>
					<Button text="onTLAPOdataSubmit" press="onTLAPOdataSubmit" ></Button>
					<!-- <Button text="onOldOdataSubmit" press="onOldOdata2Submit" ></Button> -->
					<!-- <ui:FileUploader id="idfileUploader" multiple="true" 
					uploadUrl="/sap/opu/odata/sap/API_CV_ATTACHMENT_SRV/AttachmentContentSet"
					name="myFileUpload"  />
					
 					<Button text="Upload" type="Accept" press="uploadFile" /> -->
				</f:actions>
			</f:DynamicPageTitle>
		</f:title>

		<!-- DynamicPage Header -->
		<f:header>
			<f:DynamicPageHeader>
				<f:content>
				
					<fb:FilterBar id="filterbar" reset="onReset" search="onGoPress" useToolbar="false" showGoOnFB="true" showClearOnFB="true" clear="onClearFilterBar" showFilterConfiguration="false">
						<fb:filterItems>

							<fb:FilterItem name="A" label="File Name">
								<fb:control>
									<Input id="idFilenameInp" />
								</fb:control>
							</fb:FilterItem>

							<fb:FilterItem name="B" label="Document Status">
								<fb:control>
									<!-- <Select id="idSelectDocStatus" forceSelection="false" items="{prmodel>/filterProps/DocumentStatus}">
										<core:Item key="{prmodel>id}" text="{prmodel>status}" />
									</Select> -->
									<MultiComboBox id="idSelectDocStatus"
										items="{
											path: 'prmodel>/filterProps/DocumentStatus'
										}">
										<core:Item key="{prmodel>id}" text="{prmodel>status}"/>
									</MultiComboBox>
								</fb:control>
							</fb:FilterItem>

							<fb:FilterItem name="C" label="Extraction Status" visible="false">
								<fb:control>
									<Select id="idSelectExtractionStatus" forceSelection="false" items="{prmodel>/filterProps/ExtractionStatus}" >
										<core:Item key="{prmodel>id}" text="{prmodel>status}" />
									</Select>
								</fb:control>
							</fb:FilterItem>
							
							<fb:FilterItem name="D" label="Sent By">
								<fb:control>
									<Input id="idSentByInp" />
								</fb:control>
							</fb:FilterItem>

							<fb:FilterItem name="E" label="Assigned To">
								<fb:control>
									<Input id="idAssignedToInp" />
								</fb:control>
							</fb:FilterItem>

							<fb:FilterItem name="F" label="Document Category">
								<fb:control>
									<Select id="idSelectDocumentCategory" forceSelection="false" items="{prmodel>/filterProps/DocumentCategory}" >
										<core:Item key="{prmodel>id}" text="{prmodel>status}" />
									</Select>
								</fb:control>
							</fb:FilterItem>

							<fb:FilterItem name="G" label="Received Between">
								<fb:control>
									<DateRangeSelection id="idSentOn" displayFormat="long" />
								</fb:control>
							</fb:FilterItem>
						</fb:filterItems>
					</fb:FilterBar>
				</f:content>
			</f:DynamicPageHeader>
		</f:header>
		

		<!-- DynamicPage Content -->
		<f:content>
		
			<Table id="masterTable" inset="false" items="{
						path: 'appmodel>/master/list',
						sorter: {
							path: 'LastChangedOn',
							descending : 'true'
						}
					}" class="sapFDynamicPageAlignContent sapUiLargeMarginBottom" autoPopinMode="true" fixedLayout="true" width="auto">
				<!-- <headerToolbar>
					<OverflowToolbar class="sapUiResponsivePadding">
						<ToolbarSpacer />
						<SearchField search="onSearch" width="17.5rem" />
						<OverflowToolbarButton icon="sap-icon://add" type="Transparent" press="onAdd" />
						<OverflowToolbarButton icon="sap-icon://sort" type="Transparent" press="onSort" />
					</OverflowToolbar>
				</headerToolbar> -->
				<columns>
					<Column hAlign="Initial" width="10rem">
						<Text text="File Name" />
					</Column>
					<Column hAlign="Initial" width="5rem">
						<Text text="Company Code" />
					</Column>
					<Column hAlign="Initial" width="6rem">
						<Text text="Document Status" />
					</Column>
					<Column hAlign="Initial" width="3rem" visible="false" >
						<Text text="Extraction Status" />
					</Column>
					<Column hAlign="Initial" width="9rem">
						<Text text="Sent By" />
					</Column>
					<Column hAlign="Initial" width="5rem">
						<Text text="Assigned To" />
					</Column>
					<Column hAlign="Initial" width="5rem">
						<Text text="Document Type" />
					</Column>
					<Column hAlign="Initial" width="5rem">
						<Text text="Category" />
					</Column>
					<Column hAlign="Initial" width="8rem">
						<Text text="Last Changed" />
					</Column>
					<Column hAlign="Initial" width="2rem">
						<Text text="Action" />
					</Column>
				</columns>
				<items>
					<ColumnListItem type="Active" press="onListItemPress" highlight="{path: 'appmodel>Status', formatter: '.formatter.statusText'}">
						<cells>
							<ObjectIdentifier title="{appmodel>FileName}" text="{appmodel>FileType}" />
							<ObjectIdentifier title="{appmodel>CompanyCode}" text="{appmodel>CompanyCodeDesc}" />
							<ObjectIdentifier title="{parts: ['appmodel>DocStatus', 'appmodel>AssignedTo', 'appmodel>ActionBy', 'appmodel>'], formatter:'.formatter.formatDocStatus'}" text="{ parts:['appmodel>Action', 'appmodel>ActionByName', 'appmodel>'], formatter: '.formatter.calcStatus' }" />
							<Text text="{appmodel>DoxStatus}" visible="false" />
							<Text text="{appmodel>CreatedBy}" />
							<Text text="{appmodel>AssignedToName}" />
							<Text text="{appmodel>DocumentType}" />
							<Text text="{appmodel>DocCategory}" />
							<ObjectIdentifier title="{path:'appmodel>LastChangedOn', formatter:'.formatter.formatDateString'}" text="{appmodel>LastChangedByName}" />
							<Button tooltip="Edit" icon="sap-icon://edit" press="onQuickEditPress" type="Transparent" />

						</cells>
					</ColumnListItem>
				</items>
			</Table>
			
		</f:content>
		<!-- DynamicPage Footer -->
		<f:footer>
			<OverflowToolbar>
				<ToolbarSpacer />
				<Button type="Accept" text="Accept" />
				<Button type="Reject" text="Reject" />
			</OverflowToolbar>
		</f:footer>
	</f:DynamicPage>
</mvc:View>